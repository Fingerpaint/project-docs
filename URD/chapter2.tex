\chapter{General description}
This chapter describes general aspects of the application to be created as requested by the client.

\section{Product perspective}
The aim of this project is to deliver an application that allows the user to easily visualize the mixing of fluids. A user interface should be created which can be used to specify initial parameters, after which output should be shown on the screen. All of this should be possible using an easy to use, attractive interface on a mobile device.

A similar project was initiated around eleven years ago. The result of this project was a \textsc{Matlab} implementation that achieved a similar goal as our project. However, its user interface is outdated by now, and it is impossible to comfortably use this solution on a mobile device. Part of this original solution was a \textsc{Fortran} implementation for the flow of the fluids. This implementation is still available, and we are to use it as a black box to which we can send constraints and a vector, after which the server will compute the flow. The resulting concentration distribution and its performance results are then sent back to the mobile device.

\section{General capabilities}
\subsection{Mixing constraints}
The system should be able to simulate the flow and mixing of a number of fluids, given some constraints. There are a number of constraints to be specified. The first constraint is the geometry of the mixer. There are four kinds of geometries in total: rectangle, square, circle, and \emph{journal bearing}. We will start by implementing support for rectangular geometries, and will implement more geometries if time permits.

The second constraint concerns the characteristics of the mixer, which will be specified by different matrices. These matrices are located on the server and are pre-computed. Each geometry has its own set of possible characteristics and hence its own set of matrices. These characteristics influence the flow of the fluids.

The third constraint concerns parameters applicable to the mixing protocol. Available parameters are determined by the type of mixer defined in the second constraint. For example, a rectangular mixing geometry has two walls that can be moved. The step parameter $D$ indicates the amount of time the wall should move. Possible values for $D$ are 4, 2, 1, 0.5, 0.25 and 0.1. It is possible to both specify an entire protocol consisting of multiple wall movements, and to only execute one step at a time. % 0.1 gevoeligheid, dit is implementatiedetail

The fourth parameter is the initial concentration of the fluids, which can be specified by tapping on and dragging over the screen. If desired, it is also possible to load an existing initial distribution.

\subsection{Additional capabilities}
The main user interface should be run on a mobile device, such as an iPhone. On this device, the constraints mentioned above should be specified. When the initial parameters have been set, the computation is offloaded to a server, which computes the flow of the fluids. %After each iteration of the movement protocol, intermediate results are sent back to the mobile device to be shown to the user in a graphical way (i.e. a two-dimensional image of the current distribution of the fluids). % Niet zeker
When the final result has been computed, this result is of course sent back to the mobile device, where it can be saved.

A history of past simulations is stored on the device, to compare previous runs with the current. The result of runs should also be exportable to easily sharable formats, such as .png or .pdf, with support for an alpha channel (to realize transparency). For more interactive results, entire runs should be exportable to animated .png or .gif files. % geen png maar svg; en animated svg indien mogelijk (extended vector animation eva)

After each intermediate result is received by the mobile device, the user has the choice of continuing with the received concentration distribution, or to start over with the original initial concentration distribution.

\section{General constraints}
The user interface should be suitable for mobile devices, so it is easy to visualize the results and show them to other people without much hassle. To make it even easier to quickly demonstrate mixing results to others, the actual computation on the server should not take too long (a couple of seconds at most). We do not want to be locked to one specific type of device, so we have chosen to design a cross-platform solution. To easily share results, it should also be possible to export the result of a mixing run to image files, and entire runs to animated files.

\section{User characteristics}
As mentioned before, the user of the application should be able to specify initial parameters, and, after the application has sent these off to the server, should be able to view the results. The user can then store these results for later reference, and to export these results to image files with transparency.

\section{Environment description}
The main device for the user interface is the mobile device. We are planning to create a cross-platform solution, which means it will be possible to use the application on various kinds of devices. Examples of supported devices are Apple iPhones, Android phones or tablets. The initial concentration of the fluids, the mixing protocol and the shape of the mixer will be specified on such a device.

As mobile devices typically do not have the power (both processing power and battery capacity) to perform intensive computations, the hard work of computing the mixing will be offloaded to a server. The starting parameters described above will be sent to the server, which has an efficient \textsc{Fortran} implementation to solve the problem. While solving, intermediate results are sent back to the mobile device for displaying.

\section{Assumptions and dependencies}
\todo{Assumptions and dependencies.}
